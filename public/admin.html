<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Admin - Texture Makers</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="/img/icon.png" type="image/x-icon">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: Arial, sans-serif;
      background-image: url('/img/bg.png'); /* caminho da imagem */
      background-size: cover;     /* cobre toda a tela */
      background-repeat: no-repeat; /* não repete a imagem */
      background-position: center; /* centraliza a imagem */
      background-attachment: fixed; /* mantém fixo ao rolar a página */
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: #fff;
    }
    .panel{ background: rgba(17,17,17,0.95); padding:28px; border-radius:12px; max-width:900px; width:auto; box-sizing:border-box; display:block; margin:0 auto; box-shadow: 0 0 10px #ffffff; border: 2px solid #fff; }
    .grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:20px; margin-top:20px; justify-items: center }
    .card{ background:#424242; padding:18px; border-radius:10px; text-align:center; display:flex; flex-direction:column; align-items:center; justify-content:space-between; min-height:110px; box-shadow: 0 0 10px #ffffff; border: 2px solid #fff;}
    .card a{ display:inline-block; color:#fff; text-decoration:none; font-weight:700; padding:10px 12px; border-radius:8px; background:#2b7cff }
    .meta{ color:#bbb; font-size:13px; margin-top:12px }
    .top{ display:block; position:relative; padding-right:80px }
    .top > div:first-child{ text-align:center }
    .top > div:last-child{ position:absolute; right:0; top:0 }
    .logout{ background:#8b0000; color:#fff; padding:8px 12px; border-radius:8px; border:none; cursor:pointer }

    /* Make action link full-width on small screens and hover effect */
    .card a:hover{ opacity:.95 }

    @media (max-width: 700px) {
      .grid { grid-template-columns: 1fr; gap:14px; }
      .panel { padding:18px; }
      .card { min-height:80px }
      .top > div:last-child{ position:static; margin-top:10px }
    }
    .panel .top {
      margin-bottom: 12px;
      border-bottom: 1px solid #333;
      padding-bottom: 12px;
      border-radius: 10px;
      border: 2px solid #3b3b3b;
      background-color: rgb(82, 82, 82)242;
    }
    h2 {
      margin-left: 10px;
      font-size: 24px;
    }
    .logout {
      box-shadow: 0 0 8px #ff0000;
      margin-top: 20px;
      margin-right: 20px;
    }
  </style>
</head>
<body>
  <div class="panel">
    <div class="top">
      <div>
        <h1>Admin Panel</h1>
        <div class="meta">Manage texture packs — add, update, or remove them.</div>
      </div>
      <div>
        <button class="logout" onclick="logout()">Logout</button>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <a href="/add-pack.html">Add Texture Pack</a>
        <div class="meta">Form for adding new packs.</div>
      </div>

      <div class="card">
        <a href="/update-pack.html">Update Texture Pack</a>
        <div class="meta">Edit data and links for an existing pack.</div>
      </div>

      <div class="card">
        <a href="/remove-pack.html">Remove Texture Pack</a>
        <div class="meta">Remove a pack and its files.</div>
      </div>

      <div class="card">
        <a href="/backup.html">Backup & Restore</a>
        <div class="meta">Make a Backup or restore data</div>
      </div>

      <div class="card">
        <a href="/">Return to main page</a>
        <div class="meta">Return to main page</div>
      </div>

      <div class="card">
        <a href="/admin.html" onclick="location.reload(); return false;">Recharge</a>
        <div class="meta">Recharge the panel.</div>
      </div>
    </div>
  </div>

  <script>
    const token = localStorage.getItem('adminToken');
    const expiry = new Date(localStorage.getItem('tokenExpiry'));
    if (!token || expiry < new Date()) {
      window.location.href = '/login.html';
    }

    function logout(){
      if (confirm('You sure you want to logout?')) {
        localStorage.removeItem('adminToken');
        localStorage.removeItem('tokenExpiry');
        window.location.href = '/login.html';
      }
    }
  </script>
</body>
</html>